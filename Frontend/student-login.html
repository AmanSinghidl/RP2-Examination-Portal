<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Student Login | Scholarship Portal</title>
    <link rel="stylesheet" href="/css/common.css">
</head>
<body class="landing-page student-landing auth-page">

<div class="landing-shell">
    <header class="landing-header">
        <div class="brand">
            <span class="brand-mark">RP2</span>
            <span class="brand-text">RP2 Scholarship Exam</span>
        </div>
        <nav class="landing-nav">
            <a href="/" class="nav-link">Student Home</a>
            <a href="register.html" class="nav-link">Register</a>
            <a class="nav-cta" href="student-login.html">Login</a>
        </nav>
    </header>

    <main class="auth-main">
        <section class="auth-copy">
            <p class="hero-eyebrow">Student Login</p>
            <h1>Continue your scholarship journey.</h1>
            <p class="hero-subtitle">
                Access your exam schedule, admit card, and result updates.
                Sign in with your registered email to continue.
            </p>
            <div class="auth-highlight">
                <div>
                    <span class="metric-value">Exam Ready</span>
                    <span class="metric-label">Check schedule fast</span>
                </div>
                <div>
                    <span class="metric-value">Result Alerts</span>
                    <span class="metric-label">Instant notifications</span>
                </div>
            </div>
        </section>

        <section class="auth-card">
            <h2>Student Login</h2>
            <p class="auth-meta">Use the email and password you registered with.</p>
            <form>
                <input type="email" id="email" placeholder="Email" required>
                <input type="password" id="password" placeholder="Password" required>
                <button type="button" onclick="loginStudent()">Login</button>
            </form>
            <p class="auth-help">New here? <a href="register.html">Create an account</a>.</p>
        </section>
    </main>

    <footer class="landing-footer">
        Ac 2025 Scholarship Examination Portal
    </footer>
</div>

<script>
function loginStudent() {
    const email = document.getElementById("email").value.trim();
    const password = document.getElementById("password").value.trim();

    if (!email || !password) {
        alert("Please enter Email and Password");
        return;
    }

    fetch("/student/login", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ email, password })
    })
    .then(res => res.json())
    .then(data => {
        if (data.success) {
            localStorage.setItem("studentId", data.studentId);
            localStorage.setItem("studentName", data.name);

            // redirect to dashboard
            window.location.href = "/student";
        } else {
            alert(data.message || "Invalid credentials");
        }
    })
    .catch(() => alert("Server error"));
}
</script>

</body>
</html>
